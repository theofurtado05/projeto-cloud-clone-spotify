generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model users {
  id             Int              @id @default(autoincrement())
  email          String           @unique @db.VarChar(255)
  password       String           @db.VarChar(500)
  phone          String           @db.VarChar(15)
  name           String           @db.VarChar(50)
  playlists      playlists[]
  current_plan_id  Int
  signatures     signatures[]
}

model plans {
  id         Int         @id @default(autoincrement())
  name       String      @db.VarChar(50)
  price      Float
  signatures signatures[]
}

model signatures {
  id      Int      @id @default(autoincrement())
  user_id Int @unique
  plan_id Int
  user    users    @relation(fields: [user_id], references: [id])
  plan    plans    @relation(fields: [plan_id], references: [id])
  start   DateTime
  end     DateTime
}

model playlists {
  id      Int      @id @default(autoincrement())
  name    String   @db.VarChar(50)
  user_id Int
  user    users    @relation(fields: [user_id], references: [id])
  musics  musics[]
}

model musics {
  id             Int              @id @default(autoincrement())
  name           String           @db.VarChar(50)
  artist         String           @db.VarChar(50)
  album          String           @db.VarChar(50)
  playlist_id    Int
  playlist       playlists        @relation(fields: [playlist_id], references: [id])
}


